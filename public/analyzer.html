<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Threat Analyzer â€“ FraudShield</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        body {
            background-color: #010411;
            color: #E2E8F0;
            font-family: 'Inter', sans-serif;
        }
        #analyzer-bg {
            position: fixed;
            top: 0;
            left: 0;
            outline: none;
            z-index: -1;
            width: 100vw;
            height: 100vh;
        }
        main, header {
            position: relative; 
            z-index: 10;
        }
        .tab-button.active {
            color: #00BFFF;
            border-color: #00BFFF;
            background-color: rgba(0, 191, 255, 0.1);
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        #analyzer-container, #analysis-report { transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; }
        .loader-container {
            backdrop-filter: blur(4px);
            background-color: rgba(10, 10, 10, 0.5);
        }
        .shield-loader {
            width: 60px;
            height: 70px;
            position: relative;
            animation: shield-pulse 1.5s infinite;
        }
        .shield-loader::before, .shield-loader::after {
            content: '';
            position: absolute;
            border: 2px solid #00BFFF;
            border-radius: 50% 50% 50% 50% / 20% 20% 80% 80%;
            transform: rotate(45deg);
        }
        .shield-loader::before {
            width: 60px; height: 60px; top: 0; left: 0;
            box-shadow: 0 0 15px #00BFFF;
        }
        .shield-loader::after {
            width: 30px; height: 30px; top: 15px; left: 15px;
            border-width: 1px;
        }
        @keyframes shield-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
        }
        .cta-button {
            background: linear-gradient(90deg, #00BFFF, #1E90FF);
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 191, 255, 0.5);
        }
        .cta-button:hover {
            transform: scale(1.02);
            box-shadow: 0 0 25px rgba(0, 191, 255, 0.8);
        }
        .glass-effect {
            background: rgba(17, 24, 39, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <canvas id="analyzer-bg"></canvas>

    <header id="header" class="glass-effect fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/index.html" class="text-2xl font-bold text-white">FraudShield</a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="/dashboard.html" class="text-gray-300 hover:text-cyan-400 transition">Dashboard</a>
                <a href="/analyzer.html" class="text-cyan-400 font-semibold">Analyzer</a>
                <a href="/profile.html" class="text-gray-300 hover:text-cyan-400 transition">Profile</a>
            </nav>
        </div>
    </header>
    
    <main class="pt-24">
        <section id="analyzer-section" class="py-12">
            <div class="container mx-auto px-6 max-w-4xl">
                
                <div class="mb-8 flex justify-end">
                    <a href="/dashboard.html" class="inline-flex items-center gap-2 text-cyan-300 hover:text-white font-medium px-4 py-2 rounded-lg bg-gray-800/50 border border-gray-700 hover:bg-gray-700/70 hover:border-cyan-500 transition-all duration-300 group">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform group-hover:-translate-x-1 transition-transform" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span>Back to Dashboard</span>
                    </a>
                </div>
                <div class="text-center mb-10">
                    <h1 class="text-3xl md:text-4xl font-bold text-white">Threat Analyzer</h1>
                    <p class="text-gray-400 mt-2 max-w-2xl mx-auto">Select an analysis method to instantly check for threats with our enhanced AI engine.</p>
                </div>

                <div id="analyzer-container" class="glass-effect p-8 rounded-2xl relative">
                    <div id="loader" class="hidden absolute inset-0 z-20 loader-container rounded-2xl flex-col items-center justify-center">
                        <div class="shield-loader"></div>
                        <p class="mt-4 text-white font-semibold text-lg">Analyzing with Hybrid AI Engine...</p>
                    </div>

                    <div class="border-b border-gray-700 mb-6">
                        <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                            <button class="tab-button active flex items-center gap-2 whitespace-nowrap py-4 px-2 border-b-2 font-medium text-lg border-transparent text-gray-400 hover:text-cyan-400" data-tab="link">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
                                Link & URL
                            </button>
                            <button class="tab-button flex items-center gap-2 whitespace-nowrap py-4 px-2 border-b-2 font-medium text-lg border-transparent text-gray-400 hover:text-cyan-400" data-tab="screenshot">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                Screenshot
                            </button>
                            <button class="tab-button flex items-center gap-2 whitespace-nowrap py-4 px-2 border-b-2 font-medium text-lg border-transparent text-gray-400 hover:text-cyan-400" data-tab="text">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                Message Text
                            </button>
                        </nav>
                    </div>

                    <div id="link" class="tab-content active">
                        <p class="text-gray-400 mb-4">Enter a URL to check for typosquatting, suspicious keywords, and other phishing red flags.</p>
                        <input id="linkInput" type="text" placeholder="e.g., www.sbi-kyc-update.xyz" class="w-full bg-gray-800 text-white p-3 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-500">
                        <button id="analyzeLinkBtn" class="mt-6 w-full cta-button text-white font-bold py-3 px-8 rounded-lg text-lg">Analyze Link</button>
                    </div>

                    <div id="screenshot" class="tab-content">
                        <p class="text-gray-400 mb-4">Upload a screenshot of a suspicious message for text extraction and analysis.</p>
                        <label for="screenshotInput" class="w-full cursor-pointer bg-gray-800 hover:bg-gray-700 border-2 border-dashed border-gray-600 rounded-lg flex flex-col items-center justify-center p-6 transition">
                             <img id="screenshot-preview" class="hidden h-24 mb-4 rounded"/>
                             <div id="upload-icon-container" class="flex flex-col items-center">
                                 <svg class="w-10 h-10 text-gray-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                                 <span id="uploadLabel" class="text-cyan-400 font-semibold">Click to upload or drag & drop</span>
                                 <p class="text-xs text-gray-500">PNG, JPG, or GIF (Max 5MB)</p>
                             </div>
                        </label>
                        <input type="file" id="screenshotInput" class="hidden" accept="image/png, image/jpeg, image/gif">
                        <button id="analyzeScreenshotBtn" class="mt-6 w-full cta-button text-white font-bold py-3 px-8 rounded-lg text-lg hidden">Analyze Screenshot</button>
                    </div>

                    <div id="text" class="tab-content">
                        <p class="text-gray-400 mb-4">Paste the full content of a suspicious SMS or email to check for threats and malicious links.</p>
                        <textarea id="textContent" rows="8" class="w-full bg-gray-800 text-white p-4 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-500" placeholder="e.g., 'Dear customer your sbi account has been blocked today...'"></textarea>
                        <button id="analyzeTextBtn" class="mt-6 w-full cta-button text-white font-bold py-3 px-8 rounded-lg text-lg">Analyze Content</button>
                    </div>
                </div>

                <div id="analysis-report" class="mt-8 opacity-0 transform translate-y-4 hidden">
                    </div>
            </div>
        </section>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/analyzer-animations.js" defer></script> 
    <script src="js/analyzer.js" defer></script>
</body>
</html>